{% extends 'base.html.twig' %}

{% block title %}Accueil - K&N Games
{% endblock %}

{% block breadcrumb %}{% endblock %}

{% block body %}
	{# Hero Section #}
	<section class="hero-section mb-5">
		<div class="hero-content text-center">
			<div class="hero-icon mb-4">
				<i class="bi bi-controller"></i>
			</div>
			<h1 class="display-4 fw-bold mb-3">
				Bienvenue sur
				<span class="text-gradient">K&N Games</span>
			</h1>
			<p class="lead text-muted mb-4">
				Votre bibliothèque de jeux vidéo ultime. Gérez, découvrez et organisez votre collection.
			</p>
			<div class="d-flex gap-3 justify-content-center flex-wrap">
				<a href="{{ path('app_jeu_video_index') }}" class="btn btn-primary btn-lg">
					<i class="bi bi-collection me-2"></i>Explorer les jeux
				</a>
				<a href="{{ path('app_jeu_video_new') }}" class="btn btn-outline-primary btn-lg">
					<i class="bi bi-plus-circle me-2"></i>Ajouter un jeu
				</a>
			</div>
		</div>
	</section>

	{# Statistics Section #}
	<section class="stats-section mb-5">
		<div class="row g-4">
			<div class="col-md-4">
				<div class="stat-card">
					<div class="stat-icon bg-primary-soft">
						<i class="bi bi-joystick text-primary"></i>
					</div>
					<div class="stat-content">
						<h3 class="stat-number">{{ totalJeux }}</h3>
						<p class="stat-label">Jeux Vidéo</p>
					</div>
				</div>
			</div>
			<div class="col-md-4">
				<div class="stat-card">
					<div class="stat-icon bg-success-soft">
						<i class="bi bi-building text-success"></i>
					</div>
					<div class="stat-content">
						<h3 class="stat-number">{{ totalEditeurs }}</h3>
						<p class="stat-label">Éditeurs</p>
					</div>
				</div>
			</div>
			<div class="col-md-4">
				<div class="stat-card">
					<div class="stat-icon bg-warning-soft">
						<i class="bi bi-tags text-warning"></i>
					</div>
					<div class="stat-content">
						<h3 class="stat-number">{{ totalGenres }}</h3>
						<p class="stat-label">Genres</p>
					</div>
				</div>
			</div>
		</div>
	</section>

	{# Latest Games Section #}
	<section class="latest-games-section">
		<div class="section-header d-flex justify-content-between align-items-center mb-4">
			<h2 class="h4 mb-0">
				<i class="bi bi-stars text-warning me-2"></i>Derniers jeux ajoutés
			</h2>
			<a href="{{ path('app_jeu_video_index') }}" class="btn btn-sm btn-outline-primary">
				Voir tout
				<i class="bi bi-arrow-right ms-1"></i>
			</a>
		</div>

		<div class="row g-4">
			{% for jeu in derniersJeux %}
				<div class="col-md-6 col-lg-4">
					<div class="game-card">
						<div class="game-image">
							{% if jeu.imageUrl %}
								<img src="{{ jeu.imageUrl }}" alt="{{ jeu.titre }}" loading="lazy">
							{% else %}
								<div class="no-image">
									<i class="bi bi-controller"></i>
								</div>
							{% endif %}
							<div class="game-overlay">
								<a href="{{ path('app_jeu_video_show', {'id': jeu.id}) }}" class="btn btn-light btn-sm">
									<i class="bi bi-eye me-1"></i>Voir
								</a>
							</div>
						</div>
						<div class="game-info">
							<h5 class="game-title">{{ jeu.titre }}</h5>
							<div class="game-meta">
								<span class="badge bg-primary-soft text-primary">
									<i class="bi bi-person-workspace me-1"></i>
									{{ jeu.developpeur }}
								</span>
								{% if jeu.genre %}
									<span class="badge bg-secondary-soft text-secondary">
										{{ jeu.genre.nom }}
									</span>
								{% endif %}
							</div>
							{% if jeu.prix %}
								<div class="game-price">
									<span class="price">{{ jeu.prix|number_format(2, ',', ' ') }}
										€</span>
								</div>
							{% endif %}
						</div>
					</div>
				</div>
			{% else %}
				<div class="col-12">
					<div class="empty-state text-center py-5">
						<i class="bi bi-inbox display-1 text-muted"></i>
						<h5 class="mt-3">Aucun jeu pour le moment</h5>
						<p class="text-muted">Commencez par ajouter votre premier jeu !</p>
						<a href="{{ path('app_jeu_video_new') }}" class="btn btn-primary">
							<i class="bi bi-plus-circle me-2"></i>Ajouter un jeu
						</a>
					</div>
				</div>
			{% endfor %}
		</div>
	</section>

	{# Quick Actions Section #}
	<section class="quick-actions-section mt-5">
		<h2 class="h5 mb-4">
			<i class="bi bi-lightning-charge text-warning me-2"></i>Actions rapides
		</h2>
		<div class="row g-3">
			<div class="col-6 col-md-3">
				<a href="{{ path('app_jeu_video_index') }}" class="action-card">
					<i class="bi bi-controller"></i>
					<span>Jeux</span>
				</a>
			</div>
			<div class="col-6 col-md-3">
				<a href="{{ path('app_editeur_index') }}" class="action-card">
					<i class="bi bi-building"></i>
					<span>Éditeurs</span>
				</a>
			</div>
			<div class="col-6 col-md-3">
				<a href="{{ path('app_genre_index') }}" class="action-card">
					<i class="bi bi-tags"></i>
					<span>Genres</span>
				</a>
			</div>
			<div class="col-6 col-md-3">
				<a href="{{ path('api_jeu_video_index') }}" class="action-card" target="_blank">
					<i class="bi bi-code-slash"></i>
					<span>API</span>
				</a>
			</div>
		</div>
	</section>
{% endblock %}
